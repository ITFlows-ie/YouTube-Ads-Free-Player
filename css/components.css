input[type=url] {
  flex:1; background: hsl(230 15% 8%); border:1px solid hsl(230 12% 20%);
  padding:.9rem 1rem; border-radius:.65rem; color:var(--text);
  font-size:.95rem; letter-spacing:.02em; transition: border-color .2s, background .25s, box-shadow .25s;
}
input[type=url]::placeholder { color:hsl(230 10% 40%); }
input[type=url]:focus { outline:none; border-color: var(--accent); box-shadow: var(--focus-ring); }

.input-wrapper { position:relative; flex:1 1 auto; display:flex; }
.input-wrapper.empty .input-clear-btn { display:none; }
.input-clear-btn { position:absolute; top:50%; right:.55rem; transform:translateY(-50%); background:hsl(230 12% 18%); border:1px solid hsl(230 12% 26%); color:hsl(230 10% 60%); font-size:1.15rem; padding:.35rem .55rem; min-width:2.2rem; cursor:pointer; line-height:1; display:inline-flex; align-items:center; justify-content:center; border-radius:.6rem; transition: color .2s, background .25s, border-color .25s, transform .15s; }
.input-clear-btn:hover { color:var(--text); background:hsl(230 12% 24%); border-color:hsl(230 12% 30%); }
.input-clear-btn:active { transform:translateY(-50%) scale(.9); background:hsl(230 14% 28%); }

button { background: var(--accent); color:#fff; font-weight:600; padding:.9rem 1.3rem; border-radius:.65rem; font-size:.9rem; letter-spacing:.03em; display:inline-flex; align-items:center; gap:.5rem; transition: background .3s, transform .25s, box-shadow .3s; }
button:hover { background:hsl(227 90% 58%); }
button:active { transform: translateY(2px); }
button.secondary { background: hsl(230 12% 18%); color: var(--text-dim); font-weight:500; }
button.secondary:hover { background:hsl(230 12% 24%); color: var(--text); }
button.small { padding:.55rem .85rem; font-size:.7rem; }

.error { color: var(--danger); font-size:.75rem; min-height:1.1rem; line-height:1.1rem; letter-spacing:.02em; }
.result-wrap { margin-top:1.4rem; display:flex; flex-direction:column; gap:1rem; }
.iframe-shell { position:relative; width:100%; aspect-ratio:16/9; background:hsl(230 15% 7%); border:1px solid hsl(230 12% 18%); border-radius: .75rem; overflow:hidden; display:grid; place-items:center; }
.iframe-shell.loading::after { content:""; position:absolute; inset:0; background: repeating-linear-gradient(45deg,hsl(230 15% 9%) 0 12px,hsl(230 15% 11%) 12px 24px); animation: pulse 1.6s linear infinite; opacity:.55; }
@keyframes pulse { 0%{filter:brightness(.9)} 50%{filter:brightness(1.05)} 100%{filter:brightness(.9)} }
iframe { width:100%; height:100%; border:0; }

.queue-list { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:.75rem; max-height:22.5rem; overflow-y:auto; scrollbar-width:thin; }
.queue-list::-webkit-scrollbar { width:.5rem; }
.queue-list::-webkit-scrollbar-track { background:hsl(230 15% 10%); }
.queue-list::-webkit-scrollbar-thumb { background:hsl(230 12% 24%); border-radius:.6rem; }
.queue-item { background:hsl(230 15% 7%); border:1px solid hsl(230 12% 22%); padding:.9rem .95rem 1rem; border-radius:.75rem; font-size:.8rem; color:var(--text-dim); display:flex; align-items:center; gap:.75rem; cursor:pointer; position:relative; transition: border-color .25s, background .25s, color .25s; min-height:4.4rem; width:100%; max-width:100%; box-sizing:border-box; }
.queue-item:hover { background:hsl(230 14% 12%); color:var(--text); }
.queue-item.active { border-color: var(--accent); background:hsl(230 20% 18%); color: var(--text); box-shadow: 0 0 0 .12rem rgba(var(--accent-rgb),.35); }
.queue-item.dragging { opacity:.4; }
.queue-item.drag-over { outline:.13rem dashed var(--accent); outline-offset:.15rem; }
.queue-item .handle { font-size:.85rem; opacity:.55; cursor:grab; user-select:none; }
.queue-item .handle:active { cursor:grabbing; }
.queue-item .del-btn { position:absolute; top:.4rem; right:.5rem; background:hsl(230 12% 20%); border:none; color:#888; font-size:.7rem; width:1.65rem; height:1.65rem; border-radius:.55rem; display:flex; align-items:center; justify-content:center; padding:0; cursor:pointer; transition: background .2s, color .2s; }
.queue-item .del-btn:hover { background:hsl(230 12% 26%); color:#fff; }
.queue-item.active .del-btn { background:hsl(230 22% 30%); color:#dbe2ff; }
.queue-item .thumb-wrap { width:var(--thumb-w); height:var(--thumb-h); flex:0 0 var(--thumb-w); border-radius:.55rem; background:hsl(230 15% 12%); overflow:hidden; position:relative; display:grid; place-items:center; }
.queue-item .thumb-wrap img { width:100%; height:100%; object-fit:cover; display:block; }
.queue-item.loading .thumb-wrap { background: repeating-linear-gradient(45deg,hsl(230 15% 9%) 0 12px,hsl(230 15% 11%) 12px 24px); animation: pulse 1.6s linear infinite; }
.queue-item .meta { display:flex; flex-direction:column; gap:.3rem; min-width:0; flex:1 1 auto; }
.queue-item .title { font-size:.75rem; line-height:1.2; color:var(--text); display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; word-break:break-word; line-clamp:2; max-width:100%; }
.queue-item.loading .title { color: var(--text-dim); }
.queue-item .orig { font-size:.6rem; opacity:.55; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.queue-item .qid { font-weight:600; font-size:.55rem; opacity:.65; letter-spacing:.04em; position:absolute; top:.4rem; left:.55rem; background:hsl(230 14% 16%); padding:.15rem .45rem; border-radius:.5rem; }
.queue-empty { font-size:.7rem; color:var(--text-dim); opacity:.7; }
.nav-controls { display:flex; justify-content:space-between; gap:.75rem; }
.nav-controls button { flex:1; }

/* Modal */
.modal-backdrop { position:fixed; inset:0; background:rgba(15,15,18,.75); backdrop-filter:blur(6px); display:flex; align-items:center; justify-content:center; z-index:3000; }
.modal-backdrop[hidden] { display:none !important; }
.modal { background:var(--panel); padding:1.75rem 1.65rem 1.5rem; border-radius: var(--radius-l); width:min(25rem,92%); box-shadow:0 .5rem 2.5rem -0.4rem rgba(0,0,0,.6); display:flex; flex-direction:column; gap:1.1rem; position:relative; }
.modal h3 { margin:0; font-size:1.15rem; }
.modal-text { margin:0; font-size:.8rem; color:var(--text-dim); line-height:1.4; }
.modal-actions { display:flex; gap:.75rem; justify-content:flex-end; }
.modal-actions button { flex:0 0 auto; }
button.danger { background: var(--danger); }
button.danger:hover { background:hsl(0 90% 54%); }
.modal .close-btn { position:absolute; top:.6rem; right:.7rem; width:1.9rem; height:1.9rem; border-radius:.6rem; background: hsl(230 12% 20%); border:none; color:#888; cursor:pointer; display:flex; align-items:center; justify-content:center; font-size:1rem; transition: background .2s, color .2s; }
.modal .close-btn:hover { background:hsl(230 12% 26%); color:#fff; }

.open-queue-btn { background:var(--accent); position:fixed; bottom:1rem; right:1rem; z-index:1200; padding:.8rem 1.1rem; border-radius:.9rem; box-shadow:0 .4rem 1rem -.2rem rgba(0,0,0,.5); }
.queue-count { display:inline-flex; align-items:center; justify-content:center; margin-left:.5rem; min-width:1.65rem; padding:.25rem .5rem; background:hsl(230 15% 12%); border:1px solid hsl(227 50% 45% / .4); color:#fff; font-size:.7rem; font-weight:600; border-radius:1rem; letter-spacing:.05em; position:relative; }
.queue-count.update { animation: bump .45s ease; }
@keyframes bump { 0% { transform:scale(1); } 35% { transform:scale(1.25); } 60% { transform:scale(.92); } 100% { transform:scale(1); } }

/* Brand block */
.brand { display:flex; align-items:center; gap:.75rem; margin-bottom:.65rem; }
.brand-logo { width:clamp(24px,8vw,36px); height:auto; display:block; }
.brand-name { font-size:.8rem; font-weight:600; letter-spacing:.12em; text-transform:uppercase; color:var(--text-dim); }

/* Top bar and language switcher */
.top-bar { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:.4rem; }
.lang-switch select { background:hsl(230 15% 10%); color:var(--text); border:1px solid hsl(230 12% 22%); padding:.55rem .7rem; font-size:.7rem; border-radius:.6rem; cursor:pointer; letter-spacing:.04em; }
.lang-switch select:focus { outline:none; border-color:var(--accent); box-shadow: var(--focus-ring); }
.lang-switch select:hover { background:hsl(230 15% 14%); }
.visually-hidden { position:absolute !important; width:1px !important; height:1px !important; padding:0 !important; margin:-1px !important; overflow:hidden !important; clip:rect(0 0 0 0) !important; white-space:nowrap !important; border:0 !important; }

/* Footer link visibility */
footer { margin-top:2rem; font-size:.65rem; letter-spacing:.05em; color:var(--text-dim); text-align:center; }
footer a { color:var(--accent); text-decoration:none; font-weight:600; }
footer a:hover { text-decoration:underline; color:hsl(227 90% 68%); }
footer a:focus { outline:2px solid var(--accent); outline-offset:2px; border-radius:.25rem; }
